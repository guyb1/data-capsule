{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///frame.bundle.min.js","webpack:///webpack/bootstrap edae82b280ba6cec4d36","webpack:///./base-storage.js","webpack:///./utils/constants.js","webpack:///../node_modules/greedy-split/dist/src/index.js","webpack:///./frame.js","webpack:///./data-capsule.js","webpack:///./strategies/frame-storage.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","window","__STATICS_BASE_URL__","document","style","getElementById","createElement","id","head","appendChild","textContent","s","0","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","BaseStorage","_this","forEach","method","Error","value","options","strategy","1","toError","str","values","errors","find","err","message","NOT_FOUND","SERVER_ERROR","PREFIX_SEPARATOR","KEY_SEPARATOR","STORAGE_PREFIX","3","greedySplit","separator","limit","result","split","join","reduce","x","separatorLength","slice","match","shift","40","FrameStorageStrategy","_require","DataCapsule","6","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","validateNamespace","namespace","buildValidadateOptions","capsuleOptions","assign","_BaseStorage","_ref","scope","getPrototypeOf","storageStrategy","verify","_options","setItem","getItem","removeItem","getAllItems","9","sendCommand","params","Date","now","Math","random","token","JSON","stringify","postMessage","origin","Promise","resolve","reject","pending","reason","readCommands","addEventListener","e","_greedySplit","data","_greedySplit2","_slicedToArray","parse","undefined","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","Array","isArray","_len","arguments","_key","_len2","_key2","_len3","_key3","_len4","_key4"],"mappings":"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","file":"frame.bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"data-capsule\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"data-capsule\"] = factory();\n\telse\n\t\troot[\"data-capsule\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"data-capsule\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"data-capsule\"] = factory();\n\telse\n\t\troot[\"data-capsule\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t__webpack_require__.p = typeof window !== 'undefined' && window.__STATICS_BASE_URL__ || __webpack_require__.p;\n/******/\n/******/ \tif (typeof document !== 'undefined') {\n/******/ \t    var style = document.getElementById(\"frame.stylable.bundle.css\");\n/******/ \t    if(!style){\n/******/ \t        style = document.createElement('style');\n/******/ \t        style.id = \"frame.stylable.bundle.css\";\n/******/ \t        document.head.appendChild(style);\n/******/ \t    }\n/******/ \t    style.textContent = \"\";\n/******/ \t}\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 40);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BaseStorage = function () {\n  function BaseStorage() {\n    var _this = this;\n\n    _classCallCheck(this, BaseStorage);\n\n    ['setItem', 'getItem', 'removeItem', 'getAllItems'].forEach(function (method) {\n      if (_this[method] === BaseStorage.prototype[method]) {\n        throw new Error('BaseStorage method [' + method + '] must be overriden!');\n      }\n    });\n  }\n\n  _createClass(BaseStorage, [{\n    key: 'setItem',\n    value: function setItem(key, value, options) {\n      throw options;\n    }\n  }, {\n    key: 'getItem',\n    value: function getItem(key, options) {\n      throw options;\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(key, options) {\n      throw options;\n    }\n  }, {\n    key: 'getAllItems',\n    value: function getAllItems(options) {\n      throw options;\n    }\n  }], [{\n    key: 'verify',\n    value: function verify(strategy) {\n      if (strategy instanceof BaseStorage) {\n        return strategy;\n      } else {\n        throw new Error('This class must extend BaseStorage!');\n      }\n    }\n  }]);\n\n  return BaseStorage;\n}();\n\nmodule.exports = BaseStorage;\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar errors = {\n  NOT_FOUND: new Error('Key was not found in capsule'),\n  SERVER_ERROR: new Error('Failed to perform operarion on server')\n};\n\nfunction toError(str) {\n  return Object.values(errors).find(function (err) {\n    return err.message === str;\n  }) || str;\n}\n\nmodule.exports = {\n  PREFIX_SEPARATOR: '|',\n  KEY_SEPARATOR: '#',\n  STORAGE_PREFIX: 'capsule',\n  NOT_FOUND: errors.NOT_FOUND,\n  SERVER_ERROR: errors.SERVER_ERROR,\n  toError: toError\n};\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction greedySplit(str, separator, limit) {\n  var result = str.split(separator, limit);\n  if (result.length === limit) {\n    var length = 0;\n    if (typeof separator === 'string') {\n      length = result.join(separator).length;\n    } else {\n      length = result.reduce(function (l, x, i) {\n        var separatorLength = 0;\n        if (i + 1 < limit) {\n          separatorLength = str.slice(l).match(separator).shift().length;\n        }\n        return l + x.length + separatorLength;\n      }, 0);\n    }\n    result[limit - 1] += str.slice(length);\n  }\n  return result;\n}\n\nmodule.exports = greedySplit;\n//# sourceMappingURL=index.js.map\n\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar FrameStorageStrategy = __webpack_require__(9);\n\nvar _require = __webpack_require__(1),\n    NOT_FOUND = _require.NOT_FOUND;\n\nvar BaseStorage = __webpack_require__(0);\nvar DataCapsule = __webpack_require__(6);\n\nmodule.exports = {\n  NOT_FOUND: NOT_FOUND,\n  BaseStorage: BaseStorage,\n  DataCapsule: DataCapsule,\n  FrameStorageStrategy: FrameStorageStrategy\n};\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BaseStorage = __webpack_require__(0);\n\nfunction validateNamespace(options) {\n  if (!options.namespace) {\n    throw new Error('namespace is required');\n  } else if (typeof options.namespace !== 'string') {\n    throw new Error('namespace should be a string');\n  }\n}\n\nfunction buildValidadateOptions(capsuleOptions, options) {\n  options = Object.assign({}, capsuleOptions, options);\n  validateNamespace(options);\n  return options;\n}\n\nvar DataCapsule = function (_BaseStorage) {\n  _inherits(DataCapsule, _BaseStorage);\n\n  function DataCapsule(_ref) {\n    var strategy = _ref.strategy,\n        namespace = _ref.namespace,\n        scope = _ref.scope;\n\n    _classCallCheck(this, DataCapsule);\n\n    var _this = _possibleConstructorReturn(this, (DataCapsule.__proto__ || Object.getPrototypeOf(DataCapsule)).call(this));\n\n    _this.storageStrategy = BaseStorage.verify(strategy);\n    _this._options = { namespace: namespace, scope: scope };\n    return _this;\n  }\n\n  _createClass(DataCapsule, [{\n    key: 'setItem',\n    value: function setItem(key, value, options) {\n      options = buildValidadateOptions(this._options, options);\n      return this.storageStrategy.setItem(key, value, options);\n    }\n  }, {\n    key: 'getItem',\n    value: function getItem(key, options) {\n      options = buildValidadateOptions(this._options, options);\n      return this.storageStrategy.getItem(key, options);\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(key, options) {\n      options = buildValidadateOptions(this._options, options);\n      return this.storageStrategy.removeItem(key, options);\n    }\n  }, {\n    key: 'getAllItems',\n    value: function getAllItems(options) {\n      options = buildValidadateOptions(this._options, options);\n      return this.storageStrategy.getAllItems(options);\n    }\n  }]);\n\n  return DataCapsule;\n}(BaseStorage);\n\nmodule.exports = DataCapsule;\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* global window */\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar greedySplit = __webpack_require__(3);\nvar BaseStorage = __webpack_require__(0);\n\nvar _require = __webpack_require__(1),\n    STORAGE_PREFIX = _require.STORAGE_PREFIX,\n    toError = _require.toError;\n\nvar pending = {};\n\nfunction sendCommand(method, params, options) {\n  var id = Date.now() + '-' + Math.random();\n  var message = [STORAGE_PREFIX, options.token, id, method, JSON.stringify(params)].join('|');\n  options.target.postMessage(message, options.origin);\n  return new Promise(function (resolve, _reject) {\n    pending[id] = { resolve: resolve, reject: function reject(reason) {\n        return _reject(toError(reason));\n      } };\n  });\n}\n\nfunction readCommands(options) {\n  window.addEventListener('message', function (e) {\n    var _greedySplit = greedySplit(e.data, '|', 5),\n        _greedySplit2 = _slicedToArray(_greedySplit, 5),\n        target = _greedySplit2[0],\n        token = _greedySplit2[1],\n        id = _greedySplit2[2],\n        method = _greedySplit2[3],\n        params = _greedySplit2[4];\n\n    if (target === STORAGE_PREFIX + 'Done' && token === options.token) {\n      pending[id][method](params ? JSON.parse(params) : undefined);\n      delete pending[id];\n    }\n  }, true);\n}\n\nvar FrameStorageStrategy = function (_BaseStorage) {\n  _inherits(FrameStorageStrategy, _BaseStorage);\n\n  function FrameStorageStrategy(target, origin, token) {\n    _classCallCheck(this, FrameStorageStrategy);\n\n    var _this = _possibleConstructorReturn(this, (FrameStorageStrategy.__proto__ || Object.getPrototypeOf(FrameStorageStrategy)).call(this));\n\n    _this._options = { target: target, origin: origin, token: token };\n    readCommands(_this._options);\n    return _this;\n  }\n\n  _createClass(FrameStorageStrategy, [{\n    key: 'setItem',\n    value: function setItem() {\n      for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {\n        params[_key] = arguments[_key];\n      }\n\n      return sendCommand('setItem', params, this._options);\n    }\n  }, {\n    key: 'getItem',\n    value: function getItem() {\n      for (var _len2 = arguments.length, params = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        params[_key2] = arguments[_key2];\n      }\n\n      return sendCommand('getItem', params, this._options);\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem() {\n      for (var _len3 = arguments.length, params = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        params[_key3] = arguments[_key3];\n      }\n\n      return sendCommand('removeItem', params, this._options);\n    }\n  }, {\n    key: 'getAllItems',\n    value: function getAllItems() {\n      for (var _len4 = arguments.length, params = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        params[_key4] = arguments[_key4];\n      }\n\n      return sendCommand('getAllItems', params, this._options);\n    }\n  }]);\n\n  return FrameStorageStrategy;\n}(BaseStorage);\n\nmodule.exports = FrameStorageStrategy;\n\n/***/ })\n\n/******/ });\n});\n\n\n// WEBPACK FOOTER //\n// frame.bundle.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t__webpack_require__.p = typeof window !== 'undefined' && window.__STATICS_BASE_URL__ || __webpack_require__.p;\n\n \tif (typeof document !== 'undefined') {\n \t    var style = document.getElementById(\"frame.stylable.bundle.css\");\n \t    if(!style){\n \t        style = document.createElement('style');\n \t        style.id = \"frame.stylable.bundle.css\";\n \t        document.head.appendChild(style);\n \t    }\n \t    style.textContent = \"\";\n \t}\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 40);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap edae82b280ba6cec4d36","'use strict';\n\nclass BaseStorage {\n  constructor() {\n    ['setItem', 'getItem', 'removeItem', 'getAllItems'].forEach(method => {\n      if (this[method] === BaseStorage.prototype[method]) {\n        throw new Error(`BaseStorage method [${method}] must be overriden!`);\n      }\n    });\n  }\n\n  setItem(key, value, options) {\n    throw options;\n  }\n\n  getItem(key, options) {\n    throw options;\n  }\n\n  removeItem(key, options) {\n    throw options;\n  }\n\n  getAllItems(options) {\n    throw options;\n  }\n\n  static verify(strategy) {\n    if (strategy instanceof BaseStorage) {\n      return strategy;\n    } else {\n      throw new Error(`This class must extend BaseStorage!`);\n    }\n  }\n}\n\nmodule.exports = BaseStorage;\n\n\n\n// WEBPACK FOOTER //\n// ./base-storage.js","const errors = {\n  NOT_FOUND: new Error('Key was not found in capsule'),\n  SERVER_ERROR: new Error('Failed to perform operarion on server')\n};\n\nfunction toError(str) {\n  return Object.values(errors).find(err => err.message === str) || str;\n}\n\nmodule.exports = {\n  PREFIX_SEPARATOR: '|',\n  KEY_SEPARATOR: '#',\n  STORAGE_PREFIX: 'capsule',\n  NOT_FOUND: errors.NOT_FOUND,\n  SERVER_ERROR: errors.SERVER_ERROR,\n  toError\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/constants.js","'use strict';\n\nfunction greedySplit(str, separator, limit) {\n  var result = str.split(separator, limit);\n  if (result.length === limit) {\n    var length = 0;\n    if (typeof separator === 'string') {\n      length = result.join(separator).length;\n    } else {\n      length = result.reduce(function (l, x, i) {\n        var separatorLength = 0;\n        if (i + 1 < limit) {\n          separatorLength = str.slice(l).match(separator).shift().length;\n        }\n        return l + x.length + separatorLength;\n      }, 0);\n    }\n    result[limit - 1] += str.slice(length);\n  }\n  return result;\n}\n\nmodule.exports = greedySplit;\n//# sourceMappingURL=index.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/greedy-split/dist/src/index.js\n// module id = 3\n// module chunks = 0 1 2","'use strict';\n\nconst FrameStorageStrategy = require('./strategies/frame-storage');\nconst {NOT_FOUND} = require('./utils/constants');\nconst BaseStorage = require('./base-storage');\nconst DataCapsule = require('./data-capsule');\n\nmodule.exports = {\n  NOT_FOUND,\n  BaseStorage,\n  DataCapsule,\n  FrameStorageStrategy\n};\n\n\n\n// WEBPACK FOOTER //\n// ./frame.js","'use strict';\n\nconst BaseStorage = require('./base-storage');\n\nfunction validateNamespace(options) {\n  if (!options.namespace) {\n    throw new Error('namespace is required');\n  } else if (typeof options.namespace !== 'string') {\n    throw new Error('namespace should be a string');\n  }\n}\n\nfunction buildValidadateOptions(capsuleOptions, options) {\n  options = Object.assign({}, capsuleOptions, options);\n  validateNamespace(options);\n  return options;\n}\n\nclass DataCapsule extends BaseStorage {\n  constructor({strategy, namespace, scope}) {\n    super();\n    this.storageStrategy = BaseStorage.verify(strategy);\n    this._options = {namespace, scope};\n  }\n\n  setItem(key, value, options) {\n    options = buildValidadateOptions(this._options, options);\n    return this.storageStrategy.setItem(key, value, options);\n  }\n\n  getItem(key, options) {\n    options = buildValidadateOptions(this._options, options);\n    return this.storageStrategy.getItem(key, options);\n  }\n\n  removeItem(key, options) {\n    options = buildValidadateOptions(this._options, options);\n    return this.storageStrategy.removeItem(key, options);\n  }\n\n  getAllItems(options) {\n    options = buildValidadateOptions(this._options, options);\n    return this.storageStrategy.getAllItems(options);\n  }\n}\n\nmodule.exports = DataCapsule;\n\n\n\n// WEBPACK FOOTER //\n// ./data-capsule.js","/* global window */\n'use strict';\n\nconst greedySplit = require('greedy-split');\nconst BaseStorage = require('../base-storage');\nconst {STORAGE_PREFIX, toError} = require('../utils/constants');\nconst pending = {};\n\nfunction sendCommand(method, params, options) {\n  const id = `${Date.now()}-${Math.random()}`;\n  const message = [STORAGE_PREFIX, options.token, id, method, JSON.stringify(params)].join('|');\n  options.target.postMessage(message, options.origin);\n  return new Promise((resolve, reject) => {\n    pending[id] = {resolve, reject: reason => reject(toError(reason))};\n  });\n}\n\nfunction readCommands(options) {\n  window.addEventListener('message', e => {\n    const [target, token, id, method, params] = greedySplit(e.data, '|', 5);\n    if (target === STORAGE_PREFIX + 'Done' && token === options.token) {\n      pending[id][method](params ? JSON.parse(params) : undefined);\n      delete pending[id];\n    }\n  }, true);\n}\n\nclass FrameStorageStrategy extends BaseStorage {\n  constructor(target, origin, token) {\n    super();\n    this._options = {target, origin, token};\n    readCommands(this._options);\n  }\n\n  setItem(...params) {\n    return sendCommand('setItem', params, this._options);\n  }\n\n  getItem(...params) {\n    return sendCommand('getItem', params, this._options);\n  }\n\n  removeItem(...params) {\n    return sendCommand('removeItem', params, this._options);\n  }\n\n  getAllItems(...params) {\n    return sendCommand('getAllItems', params, this._options);\n  }\n}\n\nmodule.exports = FrameStorageStrategy;\n\n\n\n// WEBPACK FOOTER //\n// ./strategies/frame-storage.js"],"sourceRoot":""}